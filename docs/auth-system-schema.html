<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Authentication System ‚Äî ≈ûematik</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0e1a;
    --surface: #111827;
    --surface2: #1a2235;
    --border: #1e3a5f;
    --blue: #3b82f6;
    --blue-light: #60a5fa;
    --green: #10b981;
    --orange: #f59e0b;
    --red: #ef4444;
    --purple: #8b5cf6;
    --cyan: #06b6d4;
    --text: #e2e8f0;
    --text-muted: #64748b;
    --text-dim: #94a3b8;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Syne', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* BG GRID */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      linear-gradient(rgba(59,130,246,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(59,130,246,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 60px 40px;
    position: relative;
    z-index: 1;
  }

  /* HEADER */
  .header {
    text-align: center;
    margin-bottom: 80px;
    animation: fadeDown 0.8s ease both;
  }

  .header .badge {
    display: inline-block;
    background: rgba(59,130,246,0.1);
    border: 1px solid rgba(59,130,246,0.3);
    color: var(--blue-light);
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    padding: 6px 16px;
    border-radius: 100px;
    margin-bottom: 24px;
    letter-spacing: 0.1em;
  }

  .header h1 {
    font-size: clamp(36px, 5vw, 64px);
    font-weight: 800;
    background: linear-gradient(135deg, #fff 0%, var(--blue-light) 50%, var(--cyan) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.1;
    margin-bottom: 16px;
  }

  .header p {
    color: var(--text-dim);
    font-size: 16px;
    font-family: 'JetBrains Mono', monospace;
  }

  /* SECTION TITLE */
  .section-title {
    font-size: 11px;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-muted);
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 24px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .section-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
  }

  /* TECH STACK */
  .tech-stack {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.2s ease both;
  }

  .tech-badge {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 10px 18px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--text-dim);
    transition: all 0.2s;
  }

  .tech-badge:hover {
    border-color: var(--blue);
    color: var(--text);
    transform: translateY(-2px);
  }

  .tech-badge .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
  }

  /* FLOW SECTION */
  .flow-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.3s ease both;
  }

  .flow-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
  }

  .flow-header {
    padding: 20px 28px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .flow-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
  }

  .flow-title {
    font-size: 18px;
    font-weight: 700;
  }

  .flow-subtitle {
    font-size: 12px;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-muted);
    margin-top: 2px;
  }

  .flow-body {
    padding: 28px;
  }

  /* STEPS */
  .steps {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .step {
    display: flex;
    gap: 20px;
    position: relative;
  }

  .step:not(:last-child)::before {
    content: '';
    position: absolute;
    left: 19px;
    top: 44px;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--border), transparent);
  }

  .step-num {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    font-weight: 700;
    flex-shrink: 0;
    position: relative;
    z-index: 1;
    background: var(--surface);
  }

  .step-content {
    padding: 8px 0 28px;
    flex: 1;
  }

  .step-label {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 6px;
  }

  .step-desc {
    font-size: 13px;
    color: var(--text-dim);
    line-height: 1.6;
    font-family: 'JetBrains Mono', monospace;
  }

  .step-code {
    margin-top: 10px;
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 8px;
    padding: 12px 16px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: #a8d8a8;
    line-height: 1.7;
  }

  /* JWT ANATOMY */
  .jwt-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.4s ease both;
  }

  .jwt-visual {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px;
  }

  .jwt-token {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    word-break: break-all;
    line-height: 1.8;
    margin-bottom: 24px;
    padding: 16px;
    background: rgba(0,0,0,0.4);
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.06);
  }

  .jwt-header-part { color: #f472b6; }
  .jwt-payload-part { color: #60a5fa; }
  .jwt-sig-part { color: #34d399; }
  .jwt-dot { color: var(--text-muted); }

  .jwt-parts {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }

  .jwt-part {
    background: rgba(0,0,0,0.3);
    border-radius: 10px;
    padding: 16px;
    border: 1px solid rgba(255,255,255,0.06);
  }

  .jwt-part-label {
    font-size: 11px;
    font-family: 'JetBrains Mono', monospace;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    margin-bottom: 8px;
    font-weight: 700;
  }

  .jwt-part-content {
    font-size: 12px;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text-dim);
    line-height: 1.6;
  }

  /* TOKEN COMPARISON */
  .token-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.5s ease both;
  }

  .token-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  .token-card {
    background: var(--surface);
    border-radius: 16px;
    overflow: hidden;
  }

  .token-card-header {
    padding: 20px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .token-card-title {
    font-size: 16px;
    font-weight: 700;
  }

  .token-card-expire {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 100px;
  }

  .token-card-body {
    padding: 0 24px 24px;
  }

  .token-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 12px 0;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    gap: 16px;
  }

  .token-row:last-child { border-bottom: none; }

  .token-row-key {
    font-size: 12px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
    flex-shrink: 0;
  }

  .token-row-val {
    font-size: 12px;
    color: var(--text-dim);
    text-align: right;
    line-height: 1.5;
  }

  /* SECURITY SECTION */
  .security-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.6s ease both;
  }

  .security-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }

  .security-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 20px;
    transition: all 0.2s;
  }

  .security-card:hover {
    transform: translateY(-3px);
    border-color: rgba(59,130,246,0.4);
  }

  .security-card-icon {
    font-size: 24px;
    margin-bottom: 12px;
  }

  .security-card-title {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .security-card-desc {
    font-size: 12px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
    line-height: 1.6;
  }

  /* ENDPOINT TABLE */
  .endpoint-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.7s ease both;
  }

  .endpoint-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
  }

  .endpoint-row {
    display: grid;
    grid-template-columns: 100px 220px 1fr auto;
    align-items: center;
    gap: 16px;
    padding: 16px 24px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    transition: background 0.15s;
  }

  .endpoint-row:last-child { border-bottom: none; }
  .endpoint-row:hover { background: rgba(255,255,255,0.02); }

  .endpoint-row.header-row {
    background: rgba(0,0,0,0.3);
    font-size: 10px;
    font-family: 'JetBrains Mono', monospace;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-muted);
  }

  .method {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 700;
    padding: 4px 10px;
    border-radius: 6px;
    text-align: center;
    width: fit-content;
  }

  .method.post { background: rgba(16,185,129,0.1); color: #10b981; border: 1px solid rgba(16,185,129,0.2); }
  .method.get  { background: rgba(59,130,246,0.1); color: #3b82f6; border: 1px solid rgba(59,130,246,0.2); }

  .endpoint-path {
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    color: var(--blue-light);
  }

  .endpoint-desc {
    font-size: 13px;
    color: var(--text-dim);
  }

  .protected-badge {
    font-size: 10px;
    font-family: 'JetBrains Mono', monospace;
    padding: 3px 8px;
    border-radius: 100px;
    background: rgba(139,92,246,0.1);
    color: #a78bfa;
    border: 1px solid rgba(139,92,246,0.2);
    white-space: nowrap;
  }

  /* BCRYPT SECTION */
  .bcrypt-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.55s ease both;
  }

  .bcrypt-visual {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px;
  }

  .bcrypt-flow {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-wrap: wrap;
    margin-bottom: 24px;
  }

  .bcrypt-box {
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 10px;
    padding: 12px 20px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    text-align: center;
  }

  .bcrypt-arrow {
    color: var(--text-muted);
    font-size: 20px;
    flex-shrink: 0;
  }

  .bcrypt-result {
    background: rgba(16,185,129,0.08);
    border: 1px solid rgba(16,185,129,0.2);
    border-radius: 10px;
    padding: 14px 20px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: #10b981;
    word-break: break-all;
    flex: 1;
  }

  /* REFRESH FLOW */
  .refresh-section {
    margin-bottom: 80px;
    animation: fadeUp 0.8s 0.65s ease both;
  }

  .timeline {
    position: relative;
    padding-left: 40px;
  }

  .timeline::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--blue), var(--purple), var(--green));
    opacity: 0.3;
  }

  .timeline-item {
    position: relative;
    padding-bottom: 28px;
  }

  .timeline-item::before {
    content: '';
    position: absolute;
    left: -31px;
    top: 6px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid var(--blue);
    background: var(--surface);
  }

  .timeline-item.success::before { border-color: var(--green); }
  .timeline-item.warning::before { border-color: var(--orange); }
  .timeline-item.error::before   { border-color: var(--red); }

  .timeline-label {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 4px;
  }

  .timeline-desc {
    font-size: 12px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
    line-height: 1.6;
  }

  /* FOOTER */
  .footer {
    text-align: center;
    padding: 40px 0;
    border-top: 1px solid var(--border);
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    color: var(--text-muted);
    animation: fadeUp 0.8s 0.8s ease both;
  }

  /* ANIMATIONS */
  @keyframes fadeDown {
    from { opacity: 0; transform: translateY(-24px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(24px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 768px) {
    .token-grid { grid-template-columns: 1fr; }
    .security-grid { grid-template-columns: 1fr 1fr; }
    .jwt-parts { grid-template-columns: 1fr; }
    .endpoint-row { grid-template-columns: 80px 1fr; }
    .endpoint-row .endpoint-desc,
    .endpoint-row .protected-badge { display: none; }
  }
</style>
</head>
<body>
<div class="container">

  <!-- HEADER -->
  <div class="header">
    <div class="badge">// auth-system ≈üematik</div>
    <h1>Authentication System</h1>
    <p>Node.js + Express + MongoDB + JWT + Bcrypt</p>
  </div>

  <!-- TECH STACK -->
  <div class="tech-stack">
    <div class="tech-badge"><span class="dot" style="background:#68a063"></span>Node.js</div>
    <div class="tech-badge"><span class="dot" style="background:#fff"></span>Express</div>
    <div class="tech-badge"><span class="dot" style="background:#4db33d"></span>MongoDB</div>
    <div class="tech-badge"><span class="dot" style="background:#e87d0d"></span>Mongoose</div>
    <div class="tech-badge"><span class="dot" style="background:#3b82f6"></span>JWT</div>
    <div class="tech-badge"><span class="dot" style="background:#ef4444"></span>Bcrypt</div>
    <div class="tech-badge"><span class="dot" style="background:#61dafb"></span>React</div>
    <div class="tech-badge"><span class="dot" style="background:#f59e0b"></span>Axios</div>
  </div>

  <!-- REGISTER FLOW -->
  <div class="flow-section">
    <div class="section-title">01 ‚Äî Register Akƒ±≈üƒ±</div>
    <div class="flow-card">
      <div class="flow-header">
        <div class="flow-icon" style="background:rgba(16,185,129,0.1)">üìù</div>
        <div>
          <div class="flow-title" style="color:#10b981">POST /api/auth/register</div>
          <div class="flow-subtitle">Yeni kullanƒ±cƒ± olu≈ütur</div>
        </div>
      </div>
      <div class="flow-body">
        <div class="steps">
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">01</div>
            <div class="step-content">
              <div class="step-label">Validasyon</div>
              <div class="step-desc">username, email, password alanlarƒ± dolu mu?</div>
              <div class="step-code">if (!username || !email || !password) ‚Üí 400</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">02</div>
            <div class="step-content">
              <div class="step-label">Email Kontrol√º</div>
              <div class="step-desc">Bu email daha √∂nce kullanƒ±lmƒ±≈ü mƒ±?</div>
              <div class="step-code">User.findOne({ email }) ‚Üí varsa 400 d√∂n</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">03</div>
            <div class="step-content">
              <div class="step-label">Kullanƒ±cƒ± Olu≈ütur</div>
              <div class="step-desc">User.create() ‚Üí pre('save') hook tetiklendi ‚Üí ≈üifre otomatik hash'lendi</div>
              <div class="step-code">"sifre123" ‚Üí bcrypt ‚Üí "$2b$10$N9qo8..."</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">04</div>
            <div class="step-content">
              <div class="step-label">Token √úret</div>
              <div class="step-desc">Access token (15dk) + Refresh token (7g√ºn) √ºretildi</div>
              <div class="step-code">generateTokens(user._id) ‚Üí { accessToken, refreshToken }</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">05</div>
            <div class="step-content">
              <div class="step-label">Refresh Token'ƒ± Sakla</div>
              <div class="step-desc">DB'ye yaz + httpOnly cookie'ye koy</div>
              <div class="step-code">user.refreshToken = token ‚Üí DB
res.cookie('refreshToken', token, { httpOnly: true })</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#10b981;color:#10b981">06</div>
            <div class="step-content">
              <div class="step-label">Cevap D√∂n</div>
              <div class="step-desc">Access token + user bilgisi client'a g√∂nderildi</div>
              <div class="step-code">201 ‚Üí { accessToken, user: { id, username, email } }</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- LOGIN FLOW -->
  <div class="flow-section">
    <div class="section-title">02 ‚Äî Login Akƒ±≈üƒ±</div>
    <div class="flow-card">
      <div class="flow-header">
        <div class="flow-icon" style="background:rgba(59,130,246,0.1)">üîë</div>
        <div>
          <div class="flow-title" style="color:#3b82f6">POST /api/auth/login</div>
          <div class="flow-subtitle">Kullanƒ±cƒ± doƒürula, oturum ba≈ülat</div>
        </div>
      </div>
      <div class="flow-body">
        <div class="steps">
          <div class="step">
            <div class="step-num" style="border-color:#3b82f6;color:#3b82f6">01</div>
            <div class="step-content">
              <div class="step-label">Kullanƒ±cƒ±yƒ± Bul</div>
              <div class="step-desc">Email ile kullanƒ±cƒ±yƒ± DB'den √ßek, ≈üifreyi de getir</div>
              <div class="step-code">User.findOne({ email }).select('+password')</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#3b82f6;color:#3b82f6">02</div>
            <div class="step-content">
              <div class="step-label">≈ûifre Kar≈üƒ±la≈ütƒ±r</div>
              <div class="step-desc">Girilen ≈üifre ile hash'lenmi≈ü ≈üifre e≈üle≈üiyor mu?</div>
              <div class="step-code">user.comparePassword(password) ‚Üí true/false
‚ùå e≈üle≈ümezse ‚Üí 401 "Email veya ≈üifre hatalƒ±"</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#3b82f6;color:#3b82f6">03</div>
            <div class="step-content">
              <div class="step-label">Yeni Token Seti √úret</div>
              <div class="step-desc">Her login yeni bir oturum ‚Äî yeni token seti √ºretilir</div>
              <div class="step-code">generateTokens(user._id) ‚Üí { accessToken, refreshToken }</div>
            </div>
          </div>
          <div class="step">
            <div class="step-num" style="border-color:#3b82f6;color:#3b82f6">04</div>
            <div class="step-content">
              <div class="step-label">Cevap D√∂n</div>
              <div class="step-desc">Access token + user bilgisi, refresh token cookie'ye</div>
              <div class="step-code">200 ‚Üí { accessToken, user: { id, username, email } }</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JWT ANATOMY -->
  <div class="jwt-section">
    <div class="section-title">03 ‚Äî JWT Anatomisi</div>
    <div class="jwt-visual">
      <div class="jwt-token">
        <span class="jwt-header-part">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span class="jwt-dot">.</span><span class="jwt-payload-part">eyJpZCI6IjY0YWJjMTIzIiwiaWF0IjoxNjk4NzY1NDMyLCJleHAiOjE2OTg3NjYzMzJ9</span><span class="jwt-dot">.</span><span class="jwt-sig-part">SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c</span>
      </div>
      <div class="jwt-parts">
        <div class="jwt-part">
          <div class="jwt-part-label" style="color:#f472b6">Header</div>
          <div class="jwt-part-content">
            {<br>
            &nbsp;&nbsp;"alg": "HS256",<br>
            &nbsp;&nbsp;"typ": "JWT"<br>
            }<br><br>
            Algoritma bilgisi.<br>HS256 = HMAC-SHA256
          </div>
        </div>
        <div class="jwt-part">
          <div class="jwt-part-label" style="color:#60a5fa">Payload</div>
          <div class="jwt-part-content">
            {<br>
            &nbsp;&nbsp;"id": "64abc123",<br>
            &nbsp;&nbsp;"iat": 1698765432,<br>
            &nbsp;&nbsp;"exp": 1698766332<br>
            }<br><br>
            ‚ö†Ô∏è ≈ûifreli DEƒûƒ∞L<br>sadece encode edilmi≈ü
          </div>
        </div>
        <div class="jwt-part">
          <div class="jwt-part-label" style="color:#34d399">Signature</div>
          <div class="jwt-part-content">
            HMAC-SHA256(<br>
            &nbsp;&nbsp;header + payload,<br>
            &nbsp;&nbsp;JWT_SECRET<br>
            )<br><br>
            Deƒüi≈ütirilirse bozulur.<br>Biz mi √ºrettik? ‚úÖ
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOKEN COMPARISON -->
  <div class="token-section">
    <div class="section-title">04 ‚Äî Access Token vs Refresh Token</div>
    <div class="token-grid">
      <div class="token-card" style="border:1px solid rgba(59,130,246,0.3)">
        <div class="token-card-header" style="background:rgba(59,130,246,0.06)">
          <div class="token-card-title" style="color:#60a5fa">Access Token</div>
          <div class="token-card-expire" style="background:rgba(59,130,246,0.1);color:#60a5fa;border:1px solid rgba(59,130,246,0.2)">15 dakika</div>
        </div>
        <div class="token-card-body">
          <div class="token-row">
            <div class="token-row-key">Nerede?</div>
            <div class="token-row-val">Client memory<br>(JS deƒüi≈ükeni)</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">Ne zaman?</div>
            <div class="token-row-val">Her API isteƒüinde<br>Authorization header'ƒ±nda</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">Format</div>
            <div class="token-row-val">Bearer eyJhbGc...</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">√áalƒ±nƒ±rsa?</div>
            <div class="token-row-val">15dk sonra<br>zaten ge√ßersiz</div>
          </div>
        </div>
      </div>
      <div class="token-card" style="border:1px solid rgba(139,92,246,0.3)">
        <div class="token-card-header" style="background:rgba(139,92,246,0.06)">
          <div class="token-card-title" style="color:#a78bfa">Refresh Token</div>
          <div class="token-card-expire" style="background:rgba(139,92,246,0.1);color:#a78bfa;border:1px solid rgba(139,92,246,0.2)">7 g√ºn</div>
        </div>
        <div class="token-card-body">
          <div class="token-row">
            <div class="token-row-key">Nerede?</div>
            <div class="token-row-val">httpOnly Cookie<br>+ DB'de</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">Ne zaman?</div>
            <div class="token-row-val">Sadece yeni access<br>token almak i√ßin</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">JS eri≈üimi?</div>
            <div class="token-row-val">‚ùå httpOnly ile<br>eri≈üilemez</div>
          </div>
          <div class="token-row">
            <div class="token-row-key">Rotation?</div>
            <div class="token-row-val">‚úÖ Her refresh'te<br>yeni token √ºretilir</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BCRYPT -->
  <div class="bcrypt-section">
    <div class="section-title">05 ‚Äî Bcrypt & ≈ûifre G√ºvenliƒüi</div>
    <div class="bcrypt-visual">
      <div style="margin-bottom:20px;font-size:14px;color:var(--text-dim);font-family:'JetBrains Mono',monospace">Hash ‚Äî tek y√∂nl√º, geri d√∂nd√ºr√ºlemez:</div>
      <div class="bcrypt-flow">
        <div class="bcrypt-box" style="color:#f472b6">"sifre123"</div>
        <div class="bcrypt-arrow">+</div>
        <div class="bcrypt-box" style="color:#f59e0b">rastgele salt</div>
        <div class="bcrypt-arrow">‚Üí</div>
        <div class="bcrypt-box" style="color:#60a5fa">bcrypt<br>(10 tur)</div>
        <div class="bcrypt-arrow">‚Üí</div>
        <div class="bcrypt-result">$2b$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy</div>
      </div>
      <div class="bcrypt-flow">
        <div class="bcrypt-box" style="color:#f472b6">"sifre123"</div>
        <div class="bcrypt-arrow">+</div>
        <div class="bcrypt-box" style="color:#f59e0b">farklƒ± salt</div>
        <div class="bcrypt-arrow">‚Üí</div>
        <div class="bcrypt-box" style="color:#60a5fa">bcrypt<br>(10 tur)</div>
        <div class="bcrypt-arrow">‚Üí</div>
        <div class="bcrypt-result" style="color:#34d399">$2b$10$Kf7p3mN5xQrWvYhJdL2sBuO8nMcEaRqT1sXpVwZoGkHiFjCyDtAeI</div>
      </div>
      <div style="font-size:12px;color:var(--text-muted);font-family:'JetBrains Mono',monospace;margin-top:8px">
        ‚úÖ Aynƒ± ≈üifre ‚Üí farklƒ± hash (salt sayesinde)<br>
        ‚úÖ Rainbow table saldƒ±rƒ±sƒ± engellendi<br>
        ‚úÖ Geri d√∂nd√ºr√ºlemez ‚Äî kar≈üƒ±la≈ütƒ±rma i√ßin bcrypt.compare() kullanƒ±lƒ±r
      </div>
    </div>
  </div>

  <!-- REFRESH TOKEN FLOW -->
  <div class="refresh-section">
    <div class="section-title">06 ‚Äî Refresh Token Akƒ±≈üƒ±</div>
    <div class="flow-card">
      <div class="flow-header">
        <div class="flow-icon" style="background:rgba(245,158,11,0.1)">üîÑ</div>
        <div>
          <div class="flow-title" style="color:#f59e0b">Token Rotation</div>
          <div class="flow-subtitle">Access token dolunca sessizce yenile</div>
        </div>
      </div>
      <div class="flow-body">
        <div class="timeline">
          <div class="timeline-item">
            <div class="timeline-label" style="color:#3b82f6">Login</div>
            <div class="timeline-desc">Access token (15dk) + Refresh token (7g√ºn) alƒ±ndƒ±</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-label">API ƒ∞steƒüi</div>
            <div class="timeline-desc">GET /profile ‚Üí Authorization: Bearer {accessToken}</div>
          </div>
          <div class="timeline-item warning">
            <div class="timeline-label" style="color:#f59e0b">15 dakika ge√ßti</div>
            <div class="timeline-desc">Access token expired ‚Üí sunucu 401 d√∂nd√º ‚Üí TokenExpiredError</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-label" style="color:#8b5cf6">Axios Interceptor Devreye Girdi</div>
            <div class="timeline-desc">POST /auth/refresh ‚Üí cookie otomatik gitti ‚Üí JS bilmedi bile</div>
          </div>
          <div class="timeline-item">
            <div class="timeline-label">Sunucu Kontrol Etti</div>
            <div class="timeline-desc">Cookie'deki token var mƒ±? DB'dekiyle e≈üle≈üiyor mu?</div>
          </div>
          <div class="timeline-item success">
            <div class="timeline-label" style="color:#10b981">Yeni Token Seti √úretildi</div>
            <div class="timeline-desc">Yeni access token + yeni refresh token (rotation!) ‚Üí eski token √∂ld√º</div>
          </div>
          <div class="timeline-item success">
            <div class="timeline-label" style="color:#10b981">ƒ∞stek Tekrarlandƒ±</div>
            <div class="timeline-desc">Ba≈üarƒ±sƒ±z GET /profile isteƒüi yeni token ile otomatik tekrarlandƒ± ‚úÖ</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SECURITY LAYER -->
  <div class="security-section">
    <div class="section-title">07 ‚Äî G√ºvenlik Katmanlarƒ±</div>
    <div class="security-grid">
      <div class="security-card">
        <div class="security-card-icon">üç™</div>
        <div class="security-card-title">httpOnly Cookie</div>
        <div class="security-card-desc">Refresh token JS ile okunamaz. XSS saldƒ±rƒ±sƒ±nda bile √ßalƒ±namaz.</div>
      </div>
      <div class="security-card">
        <div class="security-card-icon">üîí</div>
        <div class="security-card-title">select: false</div>
        <div class="security-card-desc">≈ûifre ve refreshToken DB sorgularƒ±nda otomatik gelmiyor. √ñzellikle istenmeli.</div>
      </div>
      <div class="security-card">
        <div class="security-card-icon">üõ°Ô∏è</div>
        <div class="security-card-title">sameSite: strict</div>
        <div class="security-card-desc">CSRF saldƒ±rƒ±sƒ±nƒ± engeller. Cookie ba≈üka siteden g√∂nderilemez.</div>
      </div>
      <div class="security-card">
        <div class="security-card-icon">üë§</div>
        <div class="security-card-title">User Enumeration</div>
        <div class="security-card-desc">Email/≈üifre hatalarƒ±nda aynƒ± mesaj. Saldƒ±rgan hangisinin yanlƒ±≈ü olduƒüunu bilemez.</div>
      </div>
      <div class="security-card">
        <div class="security-card-icon">üîÑ</div>
        <div class="security-card-title">Token Rotation</div>
        <div class="security-card-desc">Her refresh'te yeni token. √áalƒ±nan token bir kez kullanƒ±lƒ±nca ge√ßersiz.</div>
      </div>
      <div class="security-card">
        <div class="security-card-icon">‚è±Ô∏è</div>
        <div class="security-card-title">Kƒ±sa √ñm√ºrl√º Access</div>
        <div class="security-card-desc">15 dakika. √áalƒ±nsa bile √ßok kƒ±sa s√ºre i√ßinde ge√ßersiz olur.</div>
      </div>
    </div>
  </div>

  <!-- ENDPOINTS -->
  <div class="endpoint-section">
    <div class="section-title">08 ‚Äî Endpoint √ñzeti</div>
    <div class="endpoint-card">
      <div class="endpoint-row header-row">
        <div>Method</div>
        <div>Endpoint</div>
        <div>A√ßƒ±klama</div>
        <div>Auth</div>
      </div>
      <div class="endpoint-row">
        <div><span class="method post">POST</span></div>
        <div class="endpoint-path">/api/auth/register</div>
        <div class="endpoint-desc">Yeni kullanƒ±cƒ± olu≈ütur, token √ºret</div>
        <div></div>
      </div>
      <div class="endpoint-row">
        <div><span class="method post">POST</span></div>
        <div class="endpoint-path">/api/auth/login</div>
        <div class="endpoint-desc">Kullanƒ±cƒ± doƒürula, oturum ba≈ülat</div>
        <div></div>
      </div>
      <div class="endpoint-row">
        <div><span class="method get">GET</span></div>
        <div class="endpoint-path">/api/auth/profile</div>
        <div class="endpoint-desc">Kullanƒ±cƒ± bilgilerini getir</div>
        <div><span class="protected-badge">protect</span></div>
      </div>
      <div class="endpoint-row">
        <div><span class="method post">POST</span></div>
        <div class="endpoint-path">/api/auth/refresh</div>
        <div class="endpoint-desc">Yeni access token al</div>
        <div></div>
      </div>
      <div class="endpoint-row">
        <div><span class="method post">POST</span></div>
        <div class="endpoint-path">/api/auth/logout</div>
        <div class="endpoint-desc">Oturumu kapat, token sil</div>
        <div><span class="protected-badge">protect</span></div>
      </div>
    </div>
  </div>

  <div class="footer">
    auth-system ‚Äî Node.js ¬∑ Express ¬∑ MongoDB ¬∑ JWT ¬∑ Bcrypt ¬∑ React ¬∑ Axios
  </div>

</div>
</body>
</html>
